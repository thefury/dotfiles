<p>Today, data is flowing from everywhere, whether it is unstructured data from resources like IoT sensors, application logs, and clickstreams, or structured data from transaction applications, relational databases, and spreadsheets. Data has become a crucial part of every business. This has resulted in a need to maintain a single source of truth and automate the entire pipeline—from data ingestion to transformation and analytics— to extract value from the data quickly.</p> 
<p>There is a growing concern over the complexity of data analysis as the data volume, velocity, and variety increases. The concern stems from the number and complexity of steps it takes to get data to a state that is usable by business users. Often data engineering teams spend most of their time on building and optimizing extract, transform, and load (ETL) pipelines. Automating the entire process can reduce the time to value and cost of operations. In this post, we describe how to create a fully automated data cataloging and ETL pipeline to transform your data.</p> 
<h2>Architecture</h2> 
<p>In this post, you learn how to build and automate the following architecture.</p> 
<p><img class="alignnone size-full wp-image-6798" style="margin: 20px 0px 20px 0px" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers1.png" alt="" width="800" height="376" /></p> 
<p>You build your serverless data lake with <a href="https://aws.amazon.com/s3/" target="_blank" rel="noopener">Amazon Simple Storage Service (Amazon S3)</a> as the primary data store. Given the scalability and high availability of Amazon S3, it is best suited as the single source of truth for your data.</p> 
<p>You can use various techniques to ingest and store data in Amazon S3. For example, you can use <a href="https://aws.amazon.com/kinesis/data-firehose/" target="_blank" rel="noopener">Amazon Kinesis Data Firehose</a> to ingest streaming data. You can use <a href="https://aws.amazon.com/dms/" target="_blank" rel="noopener">AWS Database Migration Service</a> (AWS DMS) to ingest relational data from existing databases. And you can use <a href="https://aws.amazon.com/datasync/" target="_blank" rel="noopener">AWS DataSync</a> to ingest files from an on-premises Network File System (NFS).</p> 
<p>Ingested data lands in an Amazon S3 bucket that we refer to as the <em>raw zone</em>. To make that data available, you have to catalog its schema in the <a href="https://aws.amazon.com/glue/" target="_blank" rel="noopener">AWS Glue</a> Data Catalog. You can do this using an <a href="https://aws.amazon.com/lambda/" target="_blank" rel="noopener">AWS Lambda</a> function invoked by an <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/enable-event-notifications.html" target="_blank" rel="noopener">Amazon S3 trigger</a> to start an <a href="https://docs.aws.amazon.com/glue/latest/dg/add-crawler.html" target="_blank" rel="noopener">AWS Glue crawler</a> that catalogs the data. When the crawler is finished creating the table definition, you invoke a second Lambda function using an <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/Create-CloudWatch-Events-Scheduled-Rule.html" target="_blank" rel="noopener">Amazon CloudWatch Events rule</a>. This step starts an <a href="https://docs.aws.amazon.com/glue/latest/dg/add-job.html" target="_blank" rel="noopener">AWS Glue ETL job</a> to process and output the data into another Amazon S3 bucket that we refer to as the <em>processed zone</em>.</p> 
<p>The AWS Glue ETL job converts the data to Apache Parquet format and stores it in the processed S3 bucket. You can modify the ETL job to achieve other objectives, like more granular partitioning, compression, or enriching of the data. Monitoring and notification is an integral part of the automation process. So as soon as the ETL job finishes, another <a href="https://aws.amazon.com/cloudwatch/" target="_blank" rel="noopener">CloudWatch</a> rule sends you an email notification using an <a href="https://aws.amazon.com/sns" target="_blank" rel="noopener">Amazon Simple Notification Service (Amazon SNS)</a> topic. This notification indicates that your data was successfully processed.</p> 
<p>In summary, this pipeline classifies and transforms your data, sending you an email notification upon completion.</p> 
<h2>Deploy the automated data pipeline using AWS CloudFormation</h2> 
<p>First, you use <a href="https://aws.amazon.com/cloudformation/aws-cloudformation-templates/" target="_blank" rel="noopener">AWS CloudFormation templates</a> to create all of the necessary resources. This removes opportunities for manual error, increases efficiency, and ensures consistent configurations over time.</p> 
<p>Launch the <a href="https://aws.amazon.com/cloudformation/" target="_blank" rel="noopener">AWS CloudFormation</a> template with the following Launch stack button.<a href="https://console.aws.amazon.com/cloudformation/home?region=us-east-1#/stacks/create/review?templateURL=https://s3.amazonaws.com/sumerian-cf-templates/GlueBlogComplete.template&amp;stackName=GlueBlog" target="_blank" rel="noopener"><img class="alignnone wp-image-6799 size-full" style="margin: 20px 0px 20px 0px" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers2.png" alt="" width="350" height="65" /></a></p> 
<p>Be sure to choose the US East (N. Virginia) Region (us-east-1). Then enter the appropriate stack name, email address, and AWS Glue crawler name to create the <a href="https://docs.aws.amazon.com/glue/latest/dg/populate-data-catalog.html" target="_blank" rel="noopener">Data Catalog</a>. Add the <a href="https://docs.aws.amazon.com/glue/latest/dg/console-databases.html" target="_blank" rel="noopener">AWS Glue database</a> name to save the metadata tables. Acknowledge the <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/resources.html" target="_blank" rel="noopener">IAM resource</a> creation as shown in the following screenshot, and choose <strong>Create</strong>.</p> 
<p><strong>Note:</strong> It is important to enter your valid email address so that you get a notification when the ETL job is finished.</p> 
<p><img class="alignnone size-full wp-image-6800" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers3.png" alt="" width="800" height="504" /></p> 
<p>This AWS CloudFormation template creates the following resources in your AWS account:</p> 
<ul> 
 <li>Two Amazon S3 buckets to store both the raw data and processed Parquet data.</li> 
 <li>Two AWS Lambda functions: one to create the AWS Glue Data Catalog and another function to publish topics to Amazon SNS.</li> 
 <li>An <a href="https://aws.amazon.com/sqs" target="_blank" rel="noopener">Amazon Simple Queue Service (Amazon SQS)</a> queue for maintaining the retry logic.</li> 
 <li>An Amazon SNS topic to inform you that your data has been successfully processed.</li> 
 <li>Two <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/WhatIsCloudWatchEvents.html" target="_blank" rel="noopener">CloudWatch Event</a>s rules: one rule on the AWS Glue crawler and another on the AWS Glue ETL job.</li> 
 <li><a href="https://aws.amazon.com/iam/" target="_blank" rel="noopener">AWS Identity and Access Management (IAM)</a> roles for accessing AWS Glue, Amazon SNS, Amazon SQS, and Amazon S3.</li> 
</ul> 
<p>When the AWS CloudFormation stack is ready, check your email and confirm the SNS subscription. Choose the <strong>Resources</strong> tab and find the details.</p> 
<p><img class="alignnone size-full wp-image-6801" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers4.png" alt="" width="800" height="460" /></p> 
<p>Follow these steps to verify your email subscription so that you receive an email alert as soon as your ETL job finishes.</p> 
<ol> 
 <li>On the Amazon SNS console, in the navigation pane, choose <strong>Topics</strong>. An SNS topic named <strong>SNSProcessedEvent </strong>appears in the display.</li> 
</ol> 
<p style="padding-left: 30px"><img class="alignnone size-full wp-image-6802" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers5.png" alt="" width="800" height="203" /></p> 
<ol start="2"> 
 <li>Choose the <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html" target="_blank" rel="noopener">ARN</a> The topic details page appears, listing the email subscription as <strong>Pending confirmation</strong>. Be sure to confirm the subscription for your email address as provided in the <strong>Endpoint</strong> column.</li> 
</ol> 
<p>If you don’t see an email address, or the link is showing as not valid in the email, choose the corresponding subscription endpoint. Then choose <strong>Request confirmation</strong> to confirm your subscription. Be sure to check your email junk folder for the request confirmation link.</p> 
<p><img class="alignnone size-full wp-image-6803" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers6.png" alt="" width="800" height="344" /></p> 
<h2>Configure an Amazon S3 bucket event trigger</h2> 
<p>In this section, you configure a trigger on a raw S3 bucket. So when new data lands in the bucket, you trigger GlueTriggerLambda, which was created in the AWS CloudFormation deployment.</p> 
<p>To configure notifications:</p> 
<ol> 
 <li>Open the&nbsp;<a href="https://console.aws.amazon.com/s3" target="_blank" rel="noopener">Amazon S3 console</a>.</li> 
 <li>Choose the source bucket. In this case, the bucket name contains <strong>raws3bucket</strong>, for example, <strong>&lt;stackname&gt;-raws3bucket-1k331rduk5aph</strong>.</li> 
 <li>Go to the&nbsp;<strong>Properties</strong> tab, and under <strong>Advanced settings</strong>, choose <strong>Events</strong>.</li> 
</ol> 
<p style="padding-left: 30px"><img class="alignnone size-full wp-image-6804" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers7.png" alt="" width="800" height="406" /></p> 
<ol start="4"> 
 <li>Choose <strong>Add notification</strong> and configure a notification with the following settings:</li> 
</ol> 
<ul> 
 <li><strong>Name</strong>–&nbsp;Enter a name of your choice. In this example, it is <strong>crawlerlambdaTrigger</strong>.</li> 
 <li><strong>Events</strong>–&nbsp;Select the <strong>All object create events</strong> check box to create the AWS Glue Data Catalog when you upload the file.</li> 
 <li><strong>Send to</strong>–&nbsp;Choose <strong>Lambda function</strong>.</li> 
 <li><strong>Lambda</strong>–&nbsp;Choose the Lambda function that was created in the deployment section. Your Lambda function should contain the string <strong>GlueTriggerLambda</strong>.</li> 
</ul> 
<p>See the following screenshot for all the settings. When you’re finished, choose <strong>Save</strong>.</p> 
<p><img class="alignnone size-full wp-image-6805" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers8.png" alt="" width="450" height="712" /></p> 
<p>For more details on configuring events, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/user-guide/enable-event-notifications.html" target="_blank" rel="noopener">How Do I Enable and Configure Event Notifications for an S3 Bucket?</a> in the <em>Amazon S3 Console User Guide</em>.</p> 
<h2>Download the dataset</h2> 
<p>For this post, you use a publicly available New York green taxi dataset in CSV format. You upload monthly data to your raw zone and perform automated data cataloging using an AWS Glue crawler. After cataloging, an automated AWS Glue ETL job triggers to transform the monthly green taxi data to Parquet format and store it in the processed zone.</p> 
<p>You can download the raw dataset from the <a href="https://www1.nyc.gov/site/tlc/about/tlc-trip-record-data.page" target="_blank" rel="noopener">NYC Taxi &amp; Limousine Commission trip record data</a> site. Download the monthly green taxi dataset and upload only one month of data. For example, first upload only the green taxi January 2018 data to the raw S3 bucket.</p> 
<h2>Automate the Data Catalog with an AWS Glue crawler</h2> 
<p>One of the important aspects of a modern data lake is to catalog the available data so that it’s easily discoverable. To run ETL jobs or ad hoc queries against your data lake, you must first determine the schema of the data along with other metadata information like location, format, and size. An <a href="https://docs.aws.amazon.com/glue/latest/dg/add-crawler.html" target="_blank" rel="noopener">AWS Glue crawler</a> makes this process easy.</p> 
<p>After you upload the data into the raw zone, the Amazon S3 trigger that you created earlier in the post invokes the GlueTriggerLambdafunction. This function creates an AWS Glue Data Catalog that stores metadata information inferred from the data that was crawled.</p> 
<p>Open the AWS Glue console. You should see the database, table, and crawler that were created using the AWS CloudFormation template. Your AWS Glue crawler should appear as follows.</p> 
<p><img class="alignnone size-full wp-image-6806" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers9.png" alt="" width="800" height="187" /></p> 
<p>Browse to the table using the left navigation, and you will see the table in the database that you created earlier.</p> 
<p><img class="alignnone size-full wp-image-6807" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers10.png" alt="" width="800" height="128" /></p> 
<p>Choose the table name, and further explore the metadata discovered by the crawler, as shown following.</p> 
<p><img class="alignnone size-full wp-image-6808" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers11.png" alt="" width="800" height="389" /></p> 
<p>You can also view the columns, data types, and other details.&nbsp; In following screenshot, Glue Crawler has created schema from files available in Amazon S3 by determining column name and respective data type. You can use this schema to create external table.</p> 
<p><img class="alignnone size-full wp-image-6809" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers12.png" alt="" width="800" height="378" /></p> 
<h2>Author ETL jobs with AWS Glue</h2> 
<p>AWS Glue provides a managed Apache Spark environment to run your ETL job without maintaining any infrastructure with <a href="https://aws.amazon.com/glue/pricing/" target="_blank" rel="noopener">a pay as you go model</a>.</p> 
<p>Open the AWS Glue console and choose <strong>Jobs</strong> under the <strong>ETL</strong> section to start authoring an <a href="https://docs.aws.amazon.com/glue/latest/dg/author-job.html" target="_blank" rel="noopener">AWS Glue ETL job</a>. Give the job a name of your choice, and note the name because you’ll need it later. Choose the already created <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles.html" target="_blank" rel="noopener">IAM role</a> with the name containing <strong><em>&lt;stackname&gt;</em>– GlueLabRole</strong>, as shown following. Keep the other default options.</p> 
<p>AWS Glue generates the required Python or Scala code, which you can customize as per your data transformation needs. In the <strong>Advanced properties</strong> section, choose <strong>Enable</strong> in the <strong><a href="https://docs.aws.amazon.com/glue/latest/dg/monitor-continuations.html" target="_blank" rel="noopener">Job bookmark</a></strong> list to avoid reprocessing old data.</p> 
<p><img class="alignnone size-full wp-image-6811" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers13_1.png" alt="" width="600" height="561" /></p> 
<p>On the next page, choose your raw Amazon S3 bucket as the data source, and choose <strong>Next</strong>. On the <strong>Data target</strong> page, choose the processed Amazon S3 bucket as the data target path, and choose <strong>Parquet</strong> as the <strong>Format</strong>.</p> 
<p><img class="alignnone size-full wp-image-6812" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers14.png" alt="" width="487" height="421" /></p> 
<p>On the next page, you can make schema changes as required, such as changing column names, dropping ones that you’re less interested in, or even changing data types. AWS Glue generates the ETL code accordingly.</p> 
<p>Lastly, review your job parameters, and choose <strong>Save Job and Edit Script</strong>, as shown following.</p> 
<p><img class="alignnone size-full wp-image-6813" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers15.png" alt="" width="800" height="508" /></p> 
<p>On the next page, you can modify the script further as per your data transformation requirements. For this post, you can leave the script as is. In the next section, you automate the execution of this ETL job.</p> 
<h2>Automate ETL job execution</h2> 
<p>As the frequency of data ingestion increases, you will want to automate the ETL job to transform the data. Automating this process helps reduce operational overhead and free your data engineering team to focus on more critical tasks.</p> 
<p>AWS Glue is optimized for processing data in batches. You can configure it to process data in batches on a set time interval. How often you run a job is determined by how recent the end user expects the data to be and the cost of processing. For information about the different methods, see <a href="https://docs.aws.amazon.com/glue/latest/dg/trigger-job.html" target="_blank" rel="noopener">Triggering Jobs in AWS Glue</a> in the <em>AWS Glue Developer Guide</em>.</p> 
<p>First, you need to make one-time changes and configure your ETL job name in the Lambda function and the CloudWatch Events rule. On the console, open the ETLJobLambda Lambda function, which was created using the AWS CloudFormation stack.</p> 
<p><img class="alignnone size-full wp-image-6814" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers16.png" alt="" width="800" height="198" /></p> 
<p>Choose the Lambda function link that appears, and explore the code. Change the JobName value to the ETL job name that you created in the previous step, and then choose <strong>Save</strong>.</p> 
<p><img class="alignnone size-full wp-image-6815" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers17.png" alt="" width="800" height="382" /></p> 
<p>As shown in in the following screenshot, you will see an AWS CloudWatch Events rule CrawlerEventRule that is associated with an AWS Lambda function. When the CloudWatch Events rule receives a success status, it triggers the ETLJobLambda Lambda function.</p> 
<p><img class="alignnone size-full wp-image-6816" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers18.png" alt="" width="800" height="219" /></p> 
<p>Now you are all set to trigger your AWS Glue ETL job as soon as you upload a file in the raw S3 bucket. Before testing your data pipeline, set up the monitoring and alerts.</p> 
<h2>Monitoring and notification with Amazon CloudWatch Events</h2> 
<p>Suppose that you want to receive a notification over email when your AWS Glue ETL job is completed. To achieve that, the <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/events/WhatIsCloudWatchEvents.html" target="_blank" rel="noopener">CloudWatch Events</a> rule OpsEventRule was deployed from the AWS CloudFormation template in the data pipeline deployment section. This CloudWatch Events rule monitors the status of the AWS Glue ETL job and sends an email notification using an SNS topic upon successful completion of the job.</p> 
<p>As the following image shows, you configure your AWS Glue job name in the <strong>Event pattern</strong> section in CloudWatch. The event triggers an SNS topic configured as a target when the AWS Glue job state changes to <strong>SUCCEEDED</strong>. This SNS topic sends an email notification to the email address that you provided in the deployment section to receive notification.</p> 
<p><img class="alignnone size-full wp-image-6817" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers19.png" alt="" width="800" height="340" /></p> 
<p>Let’s make one-time configuration changes in the CloudWatch Events rule OpsEventRule to capture the status of the AWS Glue ETL job.</p> 
<ol> 
 <li>Open the CloudWatch console.</li> 
 <li>In the navigation pane, under <strong>Events</strong>, choose <strong>Rules</strong>. Choose the rule name that contains <strong>OpsEventRule</strong>, as shown following.</li> 
</ol> 
<p style="padding-left: 30px"><img class="alignnone size-full wp-image-6818" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers20.png" alt="" width="800" height="201" /></p> 
<ol start="3"> 
 <li>In the upper-right corner, choose <strong>Actions</strong>, <strong>Edit</strong>.</li> 
</ol> 
<p style="padding-left: 30px"><img class="alignnone size-full wp-image-6819" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers21.png" alt="" width="800" height="331" /></p> 
<ol start="4"> 
 <li>Replace Your-ETL-jobName with the ETL job name that you created in the previous step.</li> 
</ol> 
<p style="padding-left: 30px"><img class="alignnone size-full wp-image-6820" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers22.png" alt="" width="800" height="385" /></p> 
<ol start="5"> 
 <li>Scroll down and choose <strong>Configure details</strong>. Then choose <strong>Update rule</strong>.</li> 
</ol> 
<p style="padding-left: 30px"><img class="alignnone size-full wp-image-6821" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers23.png" alt="" width="800" height="285" /></p> 
<p>Now that you have set up an entire data pipeline in an automated way with the appropriate notifications and alerts, it’s time to test your pipeline. If you upload new monthly data to the raw Amazon S3 bucket (for example, upload the NY green taxi February 2018 CSV), it triggers the GlueTriggerLambda AWS Lambda function. You can navigate to the AWS Glue console, where you can see that the AWS Glue crawler is running.</p> 
<p>Upon completion of the crawler, the CloudWatch Events rule CrawlerEventRule triggers your ETLJobLambda Lambda function. You can notice now that the AWS Glue ETL job is running.</p> 
<p>When the ETL job is successful, the CloudWatch Events rule OpsEventRule sends an email notification to you using an Amazon SNS topic, as shown following, hence completing the automation cycle.</p> 
<p><img class="alignnone size-full wp-image-6822" style="margin: 20px 0px 20px 0px;border: 1px solid #cccccc" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/DataLakeGlueTriggers24.png" alt="" width="800" height="196" /></p> 
<p>Be sure to check your processed Amazon S3 bucket, where you will find transformed data processed by your automated ETL pipeline. Now that the processed data is ready in Amazon S3, you need to run the AWS Glue crawler on this Amazon S3 location. The crawler creates a metadata table with the relevant schema in the AWS Glue Data Catalog.</p> 
<p>After the Data Catalog table is created, you can execute standard SQL queries using <a href="https://aws.amazon.com/athena/" target="_blank" rel="noopener">Amazon Athena</a> and visualize the data using <a href="https://aws.amazon.com/quicksight/" target="_blank" rel="noopener">Amazon QuickSight</a>. To learn more, see the blog post <a href="https://aws.amazon.com/blogs/big-data/harmonize-query-and-visualize-data-from-various-providers-using-aws-glue-amazon-athena-and-amazon-quicksight/" target="_blank" rel="noopener">Harmonize, Query, and Visualize Data from Various Providers using AWS Glue, Amazon Athena, and Amazon QuickSight</a></p> 
<h2>Conclusion</h2> 
<p>Having an automated serverless data lake architecture lessens the burden of managing data from its source to destination—including discovery, audit, monitoring, and data quality. With an automated data pipeline across organizations, you can identify relevant datasets and extract value much faster than before. The advantage of reducing the time to analysis is that businesses can analyze the data as it becomes available in real time. From the BI tools, queries return results much faster for a single dataset than for multiple databases.</p> 
<p>Business analysts can now get their job done faster, and data engineering teams can free themselves from repetitive tasks. You can extend it further by loading your data into a data warehouse like <a href="https://aws.amazon.com/redshift/" target="_blank" rel="noopener">Amazon Redshift</a> or making it available for machine learning via <a href="https://aws.amazon.com/sagemaker/" target="_blank" rel="noopener">Amazon SageMaker</a>.</p> 
<h3>Additional resources</h3> 
<p>See the following resources for more information:</p> 
<ul> 
 <li><a href="https://aws.amazon.com/blogs/big-data/how-to-build-a-front-line-concussion-monitoring-system-using-aws-iot-and-serverless-data-lakes-part-1/" target="_blank" rel="noopener">How to build a front-line concussion monitoring system using AWS IoT and serverless data lakes</a></li> 
 <li><a href="https://aws.amazon.com/blogs/big-data/orchestrate-multiple-etl-jobs-using-aws-step-functions-and-aws-lambda/" target="_blank" rel="noopener">Orchestrate multiple ETL jobs using AWS Step Functions and AWS Lambda</a></li> 
</ul> 
<p>&nbsp;</p> 
<hr /> 
<h3>About the Author</h3> 
<p><strong><img class="size-full wp-image-6823 alignleft" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/saurabh.png" alt="" width="113" height="163" />Saurabh Shrivastava</strong> is a partner solutions architect and big data specialist working with global systems integrators. He works with AWS partners and customers to provide them with architectural guidance for building scalable architecture in hybrid and AWS environments. He enjoys spending time with his family outdoors and traveling to new destinations to discover new cultures.</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p><strong> <img class="size-full wp-image-6824 alignleft" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/LuisLopez.png" alt="" width="113" height="161" />Luis Lopez Soria</strong> is a partner solutions architect and serverless specialist working with global systems integrators. He works with AWS partners and customers to help them with adoption of the cloud operating model at a large scale. He enjoys doing sports in addition to traveling around the world exploring new foods and cultures.</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p><strong><img class="size-full wp-image-6825 alignleft" src="https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2019/04/22/Chirag.png" alt="" width="113" height="149" />Chirag Oswal</strong> is a partner solutions architect and AR/VR specialist working with global systems integrators. He works with AWS partners and customers to help them with adoption of the cloud operating model at a large scale. He enjoys video games and travel.</p>