<p><a href="https://aws.amazon.com/deepracer/" title="">AWS DeepRacer</a> is a 1/18<sup>th</sup> scale four-wheel drive car with a considerable amount of onboard <a href="https://aws.amazon.com/blogs/aws/aws-deepracer-go-hands-on-with-reinforcement-learning-at-reinvent/">hardware and software</a>. Starting at re:Invent 2018 and continuing with the <a href="https://aws.amazon.com/events/summits/">AWS Global Summits</a>, you have the opportunity to get hands-on experience with a DeepRacer. At these events, you can train a model using <a href="https://en.wikipedia.org/wiki/Reinforcement_learning">reinforcement learning</a>, and then race it around a track. The fastest racers and their laptimes for each summit are shown on our <a href="https://aws.amazon.com/deepracer/schedule-and-standings/">leaderboards</a>.</p> 
<p><a href="https://d3akhm1epsal2g.cloudfront.net/bigscreen/?event=paris"><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/drl_paris_lb_3.png" width="410" height="327" /></a><span style="text-decoration: underline;"><strong>New DeepRacer League Virtual Circuit</strong></span><br /> Today we are launching the <a href="https://aws.amazon.com/deepracer/league/">AWS DeepRacer League Virtual Circuit</a>. You can build, train, and evaluate your reinforcement learning models online and compete online for some <a href="https://aws.amazon.com/deepracer/league/points-and-prizes/">amazing prizes</a>, all from the comfort of the DeepRacer Console!</p> 
<p>We’ll add a new track each month, taking inspiration from famous race tracks around the globe, so that you can refine your models and broaden your skill set. The top entrant in the leaderboard each month will win an expenses-paid package to <a href="https://reinvent.awsevents.com/" title="">AWS re:Invent</a> 2019, where they will take part in the League Knockout Rounds, with a chance to win the Championship Cup!</p> 
<p><span style="text-decoration: underline;"><strong>New DeepRacer Console</strong></span><br /> We are making the <a href="https://console.aws.amazon.com/deepracer/home?region=us-east-1#welcome">DeepRacer Console</a> available today in the <span title="">US East (N. Virginia)</span> Region. You can use it to build and train your DeepRacer models and to compete in the Virtual Circuit, while gaining practical, hands-on experience with Reinforcement Learning. Following the steps in the <a href="https://github.com/aws-samples/aws-deepracer-workshops/tree/master/Workshops/2019-AWSSummits-AWSDeepRacerService/Lab1">DeepRacer Lab</a> that is used at the hands-on DeepRacer workshops, I open the console and click <strong>Get started</strong>:</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_con_main_2.png" width="900" height="641" /></p> 
<p>The console provides me with an overview of the model training process, and then asks to create the AWS resources needed to train and evaluate my models. I review the info and click <strong>Create resources </strong>to proceed:</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_create_model_l1_3.png" width="900" height="491" /></p> 
<p>The resources are created in minutes (I can click <strong>Learn RL</strong> to learn more about reinforcement learning while this is happening). I click <strong>Create model</strong> to move ahead:</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_create_model_l2_2.png" width="900" height="1001" /></p> 
<p>I enter a name and a description for for my model:</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_name_model_3.png" width="900" height="334" /></p> 
<p>Then I pick a track (more tracks will appear throughout the duration of the Virtual League):</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_pick_track_2.png" width="900" height="905" /></p> 
<p>Now I define the Action space for my model. This is a set of discrete actions that my model can perform. Choosing values that increase the number of options will generally enhance the quality of my model, at the cost of additional training time:</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_set_action_space_2.png" width="900" height="901" /></p> 
<p>Next, I define the reward function for my model. This function evaluates the current state of the vehicle throughout the training process and returns a reward value to indicate how well the model is performing (higher rewards signify better performance). I can use one of three predefined models (available by clicking <strong>Reward function examples</strong>) as-is, customize them, or build one from scratch. I’ll use<strong>&nbsp;Prevent zig-zag,</strong> a sample reward function that penalizes zig-zap behavior, to get started:</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_reward_func_2.png" width="900" height="862" /></p> 
<p>The reward function is written in <a href="https://docs.python.org/3/">Python 3</a>, and has access to parameters (<code>track_width</code>, <code>distance_from_center</code>, <code>all_wheels_on_track</code>, and many more) that describe the position and state of the car, and also provide information about the track.</p> 
<p>I also control a set of hyperparameters that affect the overall training performance. Since I don’t understand any of these (just being honest here), I will accept all of the defaults:</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_hyperparams_2.png" width="900" height="917" /></p> 
<p>To learn more about hyperparameters, read <a href="https://docs.aws.amazon.com/deepracer/latest/developerguide/deepracer-console-train-evaluate-models.html#deepracer-iteratively-adjust-hyperparameters">Systematically Tune Hyperparameters</a>.</p> 
<p>Finally, I specify a time limit for my training job, and click <strong>Start training</strong>. In general, simple models will converge in 90 to 120 minutes, but this is highly dependent on the maximum speed and the reward function.</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_stopper_2.png" width="900" height="540" /></p> 
<p>The training job is initialized (this takes about 6 minutes), and I can track progress in the console:</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_track_vid_1.gif" width="680" height="558" /></p> 
<p>The training job makes use of <a href="https://aws.amazon.com/robomaker/" title="">AWS RoboMaker</a> so I can also monitor it from the RoboMaker Console. For example, I can open the Gazebo window, see my car, and watch the training process in real time:</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_robo_gaz_car_2.png" width="600" height="514" /></p> 
<p>One note of caution: changing the training environment (by directly manipulating Gazebo) will adversely affect the training run, most likely rendering it useless.</p> 
<p>As the training progresses, the <strong>Reward graph</strong> will go up and to the right (as we often say at Amazon) if the car is learning how to stay on the track:</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_reward_graph_1.png" width="450" height="370" /></p> 
<p>If the graph flattens out or declines precipitously and stays there, your reward function is not rewarding the desired behavior or some other setting is getting in the way. However, patience is a virtue, and there will be the occasional regression on the way to the top. After the training is complete, there’s a short pause while the new model is finalized and stored, and then it is time for me to evaluate my model by running it in a simulation. I click <strong>Start evaluation</strong> to do this:</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_ready_to_eval_1.png" width="900" height="470" /></p> 
<p>I can evaluate the model on any of the available tracks. Using one track for training and a different one for evaluation is a good way to make sure that the model is general, and has not been overfit so that it works on just one track. However, using the same track for training and testing is a good way to get started, and that’s what I will do. I select the <strong>Oval Track</strong> and 3 trials, and click <strong>Start evaluation</strong>:</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_start_eval_1.png" width="900" height="908" /></p> 
<p>The RoboMaker simulator launches, with an hourly cost for the evaluation, as noted above. The results (lap times) are displayed when the simulation is complete:</p> 
<p><img class="size-medium aligncenter" src="https://media.amazonwebservices.com/blog/2019/dr_eval_results_1.png" width="900" height="779" /></p> 
<p>At this point I can evaluate my model on another track, step back and refine my model and evaluate it again, or submit my model to the current month’s Virtual Circuit track to take part in the DeepRacer League. To do that, I click <strong>Submit to virtual race</strong>, enter my racer name, choose a model, agree to the Ts and C’s, and click <strong>Submit model</strong>:</p> 
<p><img class="aligncenter size-medium" src="https://media.amazonwebservices.com/blog/2019/dr_sub_model_1.png" width="800" height="1147" /></p> 
<p>After I submit, my model will be evaluated on the pre-season track and my lap time will be used to place me in the <a href="https://aws.amazon.com/deepracer/schedule-and-standings/leaderboard-virtual-london-loop-2019/">Virtual Circuit Leaderboard</a>.</p> 
<p><span style="text-decoration: underline;"><strong>Things to Know</strong></span><br /> Here are a couple of things to know about the AWS DeepRacer and the AWS DeepRacer League:</p> 
<p><strong>AWS Resources</strong> – <a href="https://aws.amazon.com/sagemaker/" title="">Amazon SageMaker</a> is used to train models, which are then stored in <a href="https://aws.amazon.com/s3/" title="">Amazon Simple Storage Service (S3)</a>. <a href="https://aws.amazon.com/robomaker/" title="">AWS RoboMaker</a> provides the virtual track environment, which is used for training and evaluation. An <a href="https://aws.amazon.com/cloudformation/" title="">AWS CloudFormation</a> stack is used to create a <a href="https://aws.amazon.com/vpc/" title="">Amazon Virtual Private Cloud</a>, complete with subnets, routing tables, an Elastic IP Address, and a NAT Gateway.</p> 
<p><strong>Costs</strong> – You can use the DeepRacer console at no charge. As soon as you start training your first model, you will get service credits for SageMaker and RoboMaker to give you 10 hours of free training on these services. The credits are applied at the end of the month and are available for 30 days, as part of the <a href="https://aws.amazon.com/free/" title="">AWS Free Tier</a>. The DeepRacer architecture uses a NAT Gateway that carries an availability charge. Your account will automatically receive service credits to offset this charge, showing net zero on your account.</p> 
<p><strong>DeepRacer Cars</strong> – You can <a href="https://www.amazon.com/dp/B07JMHRKQG">preorder your DeepRacer car</a> now! Deliveries to addresses in the United States will begin in July 2019.</p> 
<p>— <a href="https://twitter.com/jeffbarr">Jeff</a>;</p><div class="feedflare">
<a href="http://feeds.feedburner.com/~ff/AmazonWebServicesBlog?a=r1mr47hgDBo:qM-L9uDaanw:yIl2AUoC8zA"><img src="http://feeds.feedburner.com/~ff/AmazonWebServicesBlog?d=yIl2AUoC8zA" border="0"></img></a> <a href="http://feeds.feedburner.com/~ff/AmazonWebServicesBlog?a=r1mr47hgDBo:qM-L9uDaanw:dnMXMwOfBR0"><img src="http://feeds.feedburner.com/~ff/AmazonWebServicesBlog?d=dnMXMwOfBR0" border="0"></img></a> <a href="http://feeds.feedburner.com/~ff/AmazonWebServicesBlog?a=r1mr47hgDBo:qM-L9uDaanw:7Q72WNTAKBA"><img src="http://feeds.feedburner.com/~ff/AmazonWebServicesBlog?d=7Q72WNTAKBA" border="0"></img></a>
</div><img src="http://feeds.feedburner.com/~r/AmazonWebServicesBlog/~4/r1mr47hgDBo" height="1" width="1" alt=""/>